<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BookayFlorists</title>
    <link href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="./assets/style.css">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css" rel="stylesheet">
    <link rel="apple-touch-icon" sizes="180x180" href="./assets/favicon_io/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="./assets/favicon_io/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="./assets/favicon_io/favicon-16x16.png">
    <link rel="manifest" href="./assets/favicon_io/site.webmanifest">
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js"></script>
    <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/slick-carousel@1.8.1/slick/slick.css"/>
    <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/slick-carousel@1.8.1/slick/slick-theme.css"/>
    

    <style>
        /* Added CSS for video section to occupy half the viewport height */
        .marketing-vid {
            position: relative;
            height: 50vh; /* Half viewport height */
            overflow: hidden; /* Hide overflow to ensure clean edges */
        }

        .video-wrapper {
            width: 100%;
            height: 100%;
            position: relative;
        }

        .video-thumbnail {
            width: 100%;
            height: 100%;
            object-fit: cover; /* Cover entire section */
            filter: brightness(70%); /* Darken for better overlay contrast */
            transition: filter 0.3s ease;
        }

        .play-btn {
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            color: white;
            font-size: 4rem;
            cursor: pointer;
            transition: color 0.3s ease;
        }

        .play-btn:hover {
            color: #198754; /* Hover color effect */
        }

        body {
            overflow-x: hidden; /* Prevent horizontal overflow */
        }

        .modal-dialog {
            max-width: 90%; /* Ensure the modal doesn't exceed screen width */
            width: auto;
        }

        .embed-responsive {
            position: relative;
            display: block;
            width: 100%;
            padding: 0;
            overflow: hidden;
        }

        .embed-responsive::before {
            display: block;
            content: "";
        }

        .embed-responsive-16by9::before {
            padding-top: 56.25%;
        }

        .embed-responsive-item {
            position: absolute;
            top: 0;
            left: 0;
            bottom: 0;
            height: 100%;
            width: 100%;
            border: 0;
        }

        .marketing-vid {
        position: relative;
        height: 50vh; /* Half viewport height */
        overflow: hidden;
    }

    .video-wrapper {
        width: 100%;
        height: 100%;
        position: relative;
    }

    .video-thumbnail {
        width: 100%;
        height: 100%;
        object-fit: cover; /* Cover entire section */
        filter: brightness(70%); /* Darken for better overlay contrast */
        transition: filter 0.3s ease;
    }

    .play-btn {
        position: absolute; /* Ensures the button is positioned over the image */
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%); /* Centers the button */
        color: white; /* White color for visibility */
        font-size: 4rem; /* Size of the icon */
        cursor: pointer; /* Pointer cursor for interactiveness */
        transition: color 0.3s ease;
        z-index: 10; /* Ensures the button appears above the video thumbnail */
        display: flex; /* Ensures flex display for better alignment */
        align-items: center; /* Centers content vertically */
        justify-content: center; /* Centers content horizontally */
        background-color: rgba(0, 0, 0, 0.5); /* Optional: adds a semi-transparent background to the button */
        border-radius: 50%; /* Makes the play button circular */
        padding: 20px; /* Adds padding for larger clickable area */
    }

    .play-btn:hover {
        color: #198754; /* Hover color effect */
    }

    </style>
</head>

<body>
    <header>
        <nav class="navbar navbar-expand-lg navbar-dark custom-navbar">
            <!-- add logo here
             
            <a class="navbar-brand" href="#">BookayFlorists</a> -->
            <a class="navbar-brand" href="#Home">
                <img src="./assets/images/Bookay_Logo_plain.png" alt="BookayFlorists Logo" style="height: 100px; width: auto; margin-left: 40px;">
            </a>
            <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav"
                aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav ml-auto">
                    <li class="nav-item">
                        <a class="nav-link" href="#">Home</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="client_about.html">About</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="">Services</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#">Gallery</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="client_blogs.html">Blog</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="client_contact.html">Contact</a>
                    </li>
                </ul>
                <button class="btn btn-warning ml-3">View Offers</button>
            </div>
        </nav>
    </header>
    <main>
        <section class="hero d-flex align-items-center justify-content-center">
            <div class="text-center text-white herosct">
                
                <h1 class="mb-5"> <em class="animated-text" style="color:#a064c9; font-weight: bold;">BookayFlorists</em>
                    Makes a  difference. <br />  for all Your Events </h1>
                <p class="mt-3 font-size:17px; ">We offer the best packages for | <span class="text-warning"> Decoration</span>  |<span class="text-warning"> Bookays</span>  | <span class="text-warning">Gifts Package</span>  & <span class="text-warning">Other Packages</span>.</p>
                 <button class="btn btn-warning mb-3 mt-5 herobtn">Contact us</button>
            </div>
        </section>

        <section class="container-fluid about align-items-center justify-content-center">
            <div class="row justify-content-center mb-5">
                <div class="col-md-5 text-center">
                    <h2 class=" mb-5 mt-5  " style=" font-size: 2.5rem;font-weight: bold;text-align: center; margin: 50px 0; color: #333;">About Us</p>
                    <p class="mt-5" style="color: #333; font-size: 2.5rem; font-weight: lighter;">We are passionate about <em style="color: #198754;">flowers and Deco</em> of <em style="color: #198754;"> highest quality </em> where every arrangement is a <em style="color: #198754;">piece of art</em>, perfect for any occasion.</p>
                </div>
            </div>

            <!-- New row for cards -->
            <div class="row">
                <div class="col-md-3">
                    <div class="card">
                        <img src="https://iamosahan.com/wrapbootstrap-pillarix/flowersx/img/our-service/1.png"
                            class="card-img-top img-fluid" alt="Card Image 1">
                        <div class="card-body">
                            <h5 class="card-title">Gift Cards</h5>
                            <a href="#see-more" class="btn btn-primary btn-sm">See More</a>
                        </div>
                    </div>
                </div>
                <div class="col-md-3">
                    <div class="card">
                        <img src="https://iamosahan.com/wrapbootstrap-pillarix/flowersx/img/our-service/2.png"
                            class="card-img-top" alt="Card Image 2">
                        <div class="card-body">
                            <h5 class="card-title">Flower Vase</h5>
                            <a href="#see-more" class="btn btn-primary btn-sm">See More</a>
                        </div>
                    </div>
                </div>
                <div class="col-md-3">
                    <div class="card">
                        <img src="https://iamosahan.com/wrapbootstrap-pillarix/flowersx/img/our-service/3.png"
                            class="card-img-top" alt="Card Image 3">
                        <div class="card-body">
                            <h5 class="card-title">Flower Bookays</h5>
                            <a href="#see-more" class="btn btn-primary btn-sm">See More</a>
                        </div>
                    </div>
                </div>
                <div class="col-md-3">
                    <div class="card">
                        <img src="https://iamosahan.com/wrapbootstrap-pillarix/flowersx/img/our-service/4.png"
                            class="card-img-top" alt="Card Image 4">
                        <div class="card-body">
                            <h5 class="card-title">Card Title 4</h5>
                            <a href="#see-more" class="btn btn-primary btn-sm">See More</a>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <section class="categories">
            <p class="semi-title">CHECKOUT OUR CATEGORIES</p>
            <h1 class="mt-5 mb-5">Art With <em style="color: #198754;">style</em></h1>

            <div class="container">
                <div class="row">
                    <div class="col-sm-12 col-lg-4">
                        <div class="plant-card">
                            <img src=""
                                alt="Cafe Plants" class="plant-image" id="cat1_img">
                            <div class="plant-info">
                                <h3 class="mb-1" id="cat1"></h3>
                                <a href="#" class="View_link" id="cat1_id">View more</a>
                            </div>
                        </div>
                    </div>

                    <div class="col-sm-12 col-lg-4">
                        <div class="plant-card">
                            <img src="./assets/images/Mini Baking-28-background.jpg"
                                alt="Cafe Plants" class="plant-image" id="cat2_img">

                            <div class="plant-info">
                                <h3 class="mb-1" id="cat2"></h3>
                                <a href="#" class="View_link" id="cat2_id">View more</a>
                            </div>
                        </div>
                    </div>

                    <div class="col-sm-12 col-lg-4">
                        <div class="plant-card">
                            <img src="./assets/images/IMG-birthday-cake.jpg"
                                alt="Cafe Plants" class="plant-image" id="cat3_img">
                            <div class="plant-info">
                                <h3 class="mb-1" id="cat3"></h3>
                                <a href="#" class="View_link" id="cat3_id">View more</a>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="row">
                    <div class="col-sm-12 col-lg-4">
                        <div class="plant-card">
                            <img src="./assets/images/IMG-bridal-team.jpg"
                                alt="Cafe Plants" class="plant-image" id="cat4_img">
                            <div class="plant-info">
                                <h3 class="mb-1" id="cat4"></h3>
                                <a href="#" class="View_link" id="cat4_id">View more</a>

                            </div>
                        </div>
                    </div>

                    <div class="col-sm-12 col-lg-4">
                        <div class="plant-card">
                            <img src="./assets/images/IMG-outdoor-1.jpg"
                                alt="Cafe Plants" class="plant-image" id="cat5_img">
                            <div class="plant-info">
                                <h3 class="mb-1" id="cat5"></h3>
                                <a href="#" class="View_link" id="cat5_id">View more</a>
                            </div>
                        </div>
                    </div>

                    <div class="col-sm-12 col-lg-4">
                        <div class="plant-card">
                            <img src=""
                                alt="Cafe Plants" class="plant-image" id="cat6_img">
                            <div class="plant-info">
                                <h3 class="mb-1" id="cat6"></h3>
                                <a href="#" class="View_link" id="cat6_id">View more</a>
                            </div>
                        </div>
                    </div>
                    <div class="col-sm-12 col-lg-4">
                        <div class="plant-card">
                            <img src=""
                                alt="Cafe Plants" class="plant-image" id="cat7_img">
                            <div class="plant-info">
                                <h3 class="mb-1" id="cat7"></h3>
                                <a href="#" class="View_link" id="cat7_id">View more</a>
                            </div>
                        </div>
                    </div>
                </div>

            </div>
        </section>

        <!-- Featured Products Section -->
        <section class="featured-products">
            <p class="semi-title">Our Products</p>
            <h1 class="mb-5">Featured <em style="color: #198754;">Products</em></h1>

            <div class="container">
                <div class="row">
                    <div class="col-sm-12 col-lg-4">
                        <div class="featured-card">
                            <img src="https://iamosahan.com/wrapbootstrap-pillarix/flowersx/img/our-service/1.png"
                                alt="Featured Product" class="featured-image">
                            <div class="featured-info">
                                <h3 class="mb-1">Vases</h3>
                                <p class="mb-0">This is a great product that will add life to your interior.</p>
                                <button class="btn btn-success order-btn mt-2">Order Now</button>
                            </div>
                        </div>
                    </div>

                    <div class="col-sm-12 col-lg-4">
                        <div class="featured-card">
                            <img src="https://iamosahan.com/wrapbootstrap-pillarix/flowersx/img/our-service/2.png"
                                alt="Featured Product" class="featured-image">
                            <div class="featured-info">
                                <h3 class="mb-1">Gift Cards</h3>
                                <p class="mb-0">Bring a touch of nature with this beautiful plant.</p>
                                <button class="btn btn-success order-btn mt-2">Order Now</button>
                            </div>
                        </div>
                    </div>

                    <div class="col-sm-12 col-lg-4">
                        <div class="featured-card">
                            <img src="https://iamosahan.com/wrapbootstrap-pillarix/flowersx/img/our-service/3.png"
                                alt="Featured Product" class="featured-image">
                            <div class="featured-info">
                                <h3 class="mb-1">Bookay</h3>
                                <p class="mb-0">This plant is perfect for any home or office decor.</p>
                                <button class="btn btn-success order-btn mt-2">Order Now</button>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="row">
                    <div class="col-sm-12 col-lg-4">
                        <div class="featured-card">
                            <img src="https://iamosahan.com/wrapbootstrap-pillarix/flowersx/img/our-service/4.png"
                                alt="Featured Product" class="featured-image">
                            <div class="featured-info">
                                <h3 class="mb-1">Featured Product 4</h3>
                                <p class="mb-0">Add greenery to your space with this vibrant plant.</p>
                                <button class="btn btn-success order-btn mt-2">Order Now</button>
                            </div>
                        </div>
                    </div>

                    <div class="col-sm-12 col-lg-4">
                        <div class="featured-card">
                            <img src="https://iamosahan.com/wrapbootstrap-pillarix/flowersx/img/our-service/4.png"
                                alt="Featured Product" class="featured-image">
                            <div class="featured-info">
                                <h3 class="mb-1">Featured Product 5</h3>
                                <p class="mb-0">Brighten up any room with this stunning plant.</p>
                                <button class="btn btn-success order-btn mt-2">Order Now</button>
                            </div>
                        </div>
                    </div>

                    <div class="col-sm-12 col-lg-4">
                        <div class="featured-card">
                            <img src="https://iamosahan.com/wrapbootstrap-pillarix/flowersx/img/our-service/4.png"
                                alt="Featured Product" class="featured-image">
                            <div class="featured-info">
                                <h3 class="mb-1">Featured Product 6</h3>
                                <p class="mb-0">A beautiful addition to any garden or indoor space.</p>
                                <button class="btn btn-success order-btn mt-2">Order Now</button>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Add the "All Products" button -->
                <div class="row justify-content-center mt-4">
                    <div class="col-auto">
                        <button class="btn all-products-btn">ALL PRODUCTS</button>
                    </div>
                </div>

            </div>
        </section>

        <!-- Marketing Video Section Covering Half Area -->
        <section class="marketing-vid">
            <div class="video-wrapper position-relative">
                <img src="https://iamosahan.com/wrapbootstrap-pillarix/flowersx/img/video.jpg" alt="Gardening"
                    class="img-fluid video-thumbnail">
                <a href="#" class="play-btn position-absolute" data-toggle="modal" data-target="#videoModal">
                    <svg xmlns="http://www.w3.org/2000/svg" width="100" height="100" fill="currentColor"
                        class="bi bi-play-circle" viewBox="0 0 16 16">
                        <path d="M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0z" />
                        <path d="M6.271 5.055A.5.5 0 0 1 7 5.5v5a.5.5 0 0 1-.759.429l-3-2.5a.5.5 0 0 1 0-.858l3-2.5z" />
                    </svg>
                </a>
            </div>
        </section>

         <!-- Blog Section -->
         <section class="blog">
            <div class="container">
                <div class="d-flex justify-content-between align-items-center mb-4">
                    <h2>Latest From Our Blog</h2>
                    <button class="btn all-posts-btn">All Posts</button>
                </div>
                <div class="row" id="featuredBlogPosts">
                    <!-- Featured blog posts will be inserted here -->
                </div>
                <div class="blog-slider mt-4">
                    <div id="blogSlider" class="carousel slide" data-ride="carousel">
                        <div class="carousel-inner" id="blogSliderInner">
                            <!-- Additional blog posts will be inserted here -->
                        </div>
                        <a class="carousel-control-prev" href="#blogSlider" role="button" data-slide="prev">
                            <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                            <span class="sr-only">Previous</span>
                        </a>
                        <a class="carousel-control-next" href="#blogSlider" role="button" data-slide="next">
                            <span class="carousel-control-next-icon" aria-hidden="true"></span>
                            <span class="sr-only">Next</span>
                        </a>
                    </div>
                </div>
            </div>
        </section>

        <section class="newsletter">
            <div class="container">
                <div class="newsletter-content text-center">
                    <button class="btn newsletter-btn mb-3">Our Newsletter</button>
                    <h2 class="newsletter-title">Enter your email address to be updated with fresh news</h2>
                    <p class="newsletter-subtitle">Receive emails updates and hot offers</p>
                    <form class="newsletter-form d-flex justify-content-center align-items-center">
                        <input type="email" class="form-control email-input" placeholder="Email address" required>
                        <button type="submit" class="btn btn-success subscribe-btn">Subscribe</button>
                    </form>
                </div>
            </div>
        </section>
        
        
        <!-- Footer Section -->
        <footer class="footer">
            <div class="container">
                <div class="row">
                    <div class="col-lg-3 col-md-6 mb-4">
                        <h5>Company</h5>
                        <ul class="list-unstyled">
                            <li><a href="#">Home</a></li>
                            <li><a href="#">Services</a></li>
                            <li><a href="#">About us</a></li>
                            <li><a href="#">Blog</a></li>
                            <li><a href="#">Contact</a></li>
                        </ul>
                    </div>
                   
                    <div class="col-lg-3 col-md-6 mb-4">
                        <h5>Contact us</h5>
                        <ul class="list-unstyled">
                            <li>Phone: +254712203076</li>
                            <li>Mail: bookayflorists@gmail.com</li>
                            <li>Freedom Heights, 5th floor<br>Langata, Kenya</li>
                        </ul>
                    </div>
                    <div class="footer-bottom">
                        <div class="container text-center">
                            <p>Copyright © BookayFlorists2024</p>
                            <div class="social-icons">
                                <a href="#"><i class="fab fa-facebook-f"></i></a>
                                <a href="#"><i class="fab fa-twitter"></i></a>
                                <a href="#"><i class="fab fa-instagram"></i></a>
                                <a href="#"><i class="fab fa-pinterest"></i></a>
                                <a href="#"><i class="fab fa-youtube"></i></a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </footer>


        <!-- Modal for Video -->
        <div class="modal fade" id="videoModal" tabindex="-1" aria-labelledby="videoModalLabel" aria-hidden="true">
            <div class="modal-dialog modal-lg">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title" id="videoModalLabel">Watch Our Video</h5>
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                            <span aria-hidden="true">&times;</span>
                        </button>
                    </div>
                    <div class="modal-body">
                        <div class="embed-responsive embed-responsive-16by9">
                            <iframe id="videoIframe" class="embed-responsive-item"
                                src="https://www.youtube.com/embed/e4Tk-kcOmUA"
                                title="My Ultra Low-Maintenance Garden: The Full Tour" allowfullscreen></iframe>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="back-to-top" onclick="scrollToTop()">
            <i class="fas fa-arrow-up"></i>
        </div>
        

    </main>
    <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@1.16.0/dist/umd/popper.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/slick-carousel@1.8.1/slick/slick.min.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', function () {
            const options = {
                root: null, // Use the viewport as the container
                rootMargin: '0px',
                threshold: 0.1 // Trigger when 10% of the card is visible
            };

            const observer = new IntersectionObserver((entries, observer) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.classList.add('visible'); // Add class when visible
                    } else {
                        entry.target.classList.remove('visible'); // Remove class when not visible
                    }
                });
            }, options);

            const cards = document.querySelectorAll('.plant-card, .featured-card');
            cards.forEach(card => {
                observer.observe(card); // Observe each card
            });

            // Stop video playback when modal is closed
            $('#videoModal').on('hidden.bs.modal', function () {
                const iframe = document.getElementById('videoIframe');
                const iframeSrc = iframe.src;
                iframe.src = iframeSrc; // Reset the src to stop the video
            });
        });
    </script>
    <script>
        function scrollToTop() {
            window.scrollTo({
                top: 0,
                behavior: 'smooth'
            });
        }
    
        window.addEventListener('scroll', function() {
            const backToTop = document.querySelector('.back-to-top');
            if (window.scrollY > 200) {
                backToTop.style.display = 'block';
            } else {
                backToTop.style.display = 'none';
            }
        });
    </script>

    <script>
        const supabaseUrl = 'https://rdqaxqagqyylxvdksnzi.supabase.co';
        const supabaseKey = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InJkcWF4cWFncXl5bHh2ZGtzbnppIiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTcyMzkyNjk5NywiZXhwIjoyMDM5NTAyOTk3fQ.BCgpL_7mNghbz_Y7uQgVRhjjIAh5zCuwHKltD3VtZIU'; // Replace this with your actual Supabase key
        const supabaseClient = supabase.createClient(supabaseUrl, supabaseKey);

        async function fetchCategories() {
            const { data, error } = await supabaseClient
                .from('categories')
                .select('*')
                .order('created_at', { ascending: true });

            if (error) {
                console.error('Error fetching categories:', error);
                showFlashMessage('Failed to fetch categories. Please try again.', 'error');
                return;
            }

            if (data.length === 0) {
                showFlashMessage('No categories found.', 'info');
                return;
            }

            console.log(data);
            // Assuming the first category should replace the Bookays text and the img
            const firstCategory = data[0];
            document.getElementById('cat1').textContent = firstCategory.category_name;
            document.getElementById('cat1_img').src = supabaseClient.storage.from('images_flowers').getPublicUrl(firstCategory.category_img).data.publicUrl;
            document.getElementById('cat1_id').href = `client_categories.html?id=${firstCategory.id}`;
            

            const secondCategory = data[1];
            document.getElementById('cat2').textContent = secondCategory.category_name;
            document.getElementById('cat2_img').src = supabaseClient.storage.from('images_flowers').getPublicUrl(secondCategory.category_img).data.publicUrl;
            document.getElementById('cat2_id').href = `client_categories.html?id=${secondCategory.id}`;

            const thirdCategory = data[2];
            document.getElementById('cat3').textContent = thirdCategory.category_name;
            document.getElementById('cat3_img').src = supabaseClient.storage.from('images_flowers').getPublicUrl(thirdCategory.category_img).data.publicUrl;
            document.getElementById('cat3_id').href = `client_categories.html?id=${thirdCategory.id}`;

            const fourthCategory = data[3];
            document.getElementById('cat4').textContent = fourthCategory.category_name;
            document.getElementById('cat4_img').src = supabaseClient.storage.from('images_flowers').getPublicUrl(fourthCategory.category_img).data.publicUrl;
            document.getElementById('cat4_id').href = `client_categories.html?id=${fourthCategory.id}`;
            
            const fifthCategory = data[4];
            document.getElementById('cat5').textContent = fifthCategory.category_name;
            document.getElementById('cat5_img').src = supabaseClient.storage.from('images_flowers').getPublicUrl(fifthCategory.category_img).data.publicUrl;
            document.getElementById('cat5_id').href = `client_categories.html?id=${fifthCategory.id}`;

            const sixthCategory = data[5];
            document.getElementById('cat6').textContent = sixthCategory.category_name;
            document.getElementById('cat6_img').src = supabaseClient.storage.from('images_flowers').getPublicUrl(sixthCategory.category_img).data.publicUrl;
            document.getElementById('cat6_id').href = `client_categories.html?id=${sixthCategory.id}`;

            const seventhCategory = data[6];
            document.getElementById('cat7').textContent = seventhCategory.category_name;
            document.getElementById('cat7_img').src = supabaseClient.storage.from('images_flowers').getPublicUrl(seventhCategory.category_img).data.publicUrl;
            document.getElementById('cat7_id').href = `client_categories.html?id=${seventhCategory.id}`;
        }

        fetchCategories();

        // blog section
        async function fetchBlogPosts() {
        const { data, error } = await supabaseClient
            .from('blog_content')
            .select('*')
            .order('created_at', { ascending: false });

        if (error) {
            console.error('Error fetching blog posts:', error);
            showFlashMessage('Failed to fetch blog posts. Please try again.', 'error');
            return;
        }

        if (data.length === 0) {
            showFlashMessage('No blog posts found.', 'info');
            return;
        }

        const featuredPosts = data.slice(0, 4);
        const sliderPosts = data.slice(4);

        displayFeaturedPosts(featuredPosts);
        displaySliderPosts(sliderPosts);
    }

    function truncateContent(content, maxWords = 20) {
    const words = content.split(' ');
    if (words.length > maxWords) {
            return words.slice(0, maxWords).join(' ') + '...';
        }
        return content;
    }

    function formatDate(dateString) {
        const options = { year: 'numeric', month: 'long', day: 'numeric' };
        return new Date(dateString).toLocaleDateString(undefined, options);
    }

    function displayFeaturedPosts(posts) {
        const featuredContainer = document.getElementById('featuredBlogPosts');
        featuredContainer.innerHTML = '';

        posts.forEach(post => {
            const postHTML = `
                <div class="col-lg-3 col-md-6 col-sm-12 mb-4">
                    <div class="blog-card">
                        <img src="${post.blog_img}" alt="blog img" class="blog-image">
                        <div class="blog-content">
                            <p class="blog-category">${post.blog_tag}</p>
                            <h3 class="blog-title">${post.title}</h3>
                            <p class="blog-text">${truncateContent(post.content)}</p>
                            <a href="blog-detail.html?id=${post.id}" class="read-more">Read More</a>
                            <div class="blog-footer">
                                <p class="blog-date">${formatDate(post.created_at)}</p>
                            </div>
                        </div>
                    </div>
                </div>
            `;
            featuredContainer.innerHTML += postHTML;
        });
    }

    function displaySliderPosts(posts) {
        const sliderContainer = document.getElementById('blogSliderInner');
        sliderContainer.innerHTML = '';

        posts.forEach((post, index) => {
            const postHTML = `
                <div class="carousel-item ${index === 0 ? 'active' : ''}">
                    <div class="row">
                        <div class="col-lg-3 col-md-6 col-sm-12">
                            <div class="blog-card">
                                <img src="${post.blog_img}" alt="${post.title}" class="blog-image">
                                <div class="blog-content">
                                    <p class="blog-category">${post.blog_tag}</p>
                                    <h3 class="blog-title">${post.title}</h3>
                                    <p class="blog-text">${truncateContent(post.content)}</p>
                                    <a href="blog-detail.html?id=${post.id}" class="read-more">Read More</a>
                                    <div class="blog-footer">
                                        <p class="blog-date">${formatDate(post.created_at)}</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            `;
            sliderContainer.innerHTML += postHTML;
            });

            // Initialize the slider
            initializeSlider();
        }

        function initializeSlider() {
            // Use a library like Slick or Swiper to initialize the slider
            // This is just a placeholder - replace with actual slider initialization code
            $('.slider-container').slick({
                slidesToShow: 3,
                slidesToScroll: 1,
                autoplay: true,
                autoplaySpeed: 3000,
                responsive: [
                    {
                        breakpoint: 768,
                        settings: {
                            slidesToShow: 2
                        }
                    },
                    {
                        breakpoint: 480,
                        settings: {
                            slidesToShow: 1
                        }
                    }
                ]
            });
        }

        // Call this function when the page loads
        fetchBlogPosts();

    </script>
    
</body>

</html>
